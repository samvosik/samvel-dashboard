<!DOCTYPE html>
<html lang="ru">
<head>
<link rel="icon" href="favicon.png" type="image/png">
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>–°–≤–µ–∂–µ—Å—Ç—å –∫—Ä–æ–≤–∏ ‚Äî –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</title>
<style>
  body {
    margin: 0;
    font-family: monospace;
    background: #000;
    color: #0f0;
    text-align: center;
    padding: 20px;
  }
  #login { margin-top: 100px; }
  input[type="password"] {
    padding: 16px;
    font-size: 1.2rem;
    border-radius: 8px;
    width: 90%;
    max-width: 400px;
    border: 1px solid #0ff;
    background: #111;
    color: #0f0;
  }
  button {
    padding: 16px 32px;
    background: #0ff;
    color: #000;
    border: none;
    border-radius: 6px;
    font-weight: bold;
    cursor: pointer;
    margin-top: 15px;
  }
  button:hover {
    background: #0c0;
    box-shadow: 0 0 15px #0ff;
  }
  #protected { display: none; }

  /* –≠—Ñ—Ñ–µ–∫—Ç –æ—à–∏–±–∫–∏ */
  input.error {
    border-color: red;
    animation: shake 0.3s;
  }
  @keyframes shake {
    0% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    50% { transform: translateX(5px); }
    75% { transform: translateX(-5px); }
    100% { transform: translateX(0); }
  }

  .note { font-size: 1.10rem; color: #e7fff4; margin-bottom: 12px; }
  .group {
    width: 100%; max-width: 320px;
    border: 1px solid #0f0;
    padding: 16px; border-radius: 6px;
    margin: 12px auto; text-align: center;
  }
  label { display: block; font-size: 0.85rem; margin-bottom: 4px; }
  input[type="date"], input[type="time"] {
    width: 90%; background: #e7fff4;
    border: none; border-radius: 4px;
    outline: none; padding: 8px;
    font-size: 1rem; margin-bottom: 10px;
  }
  .boy { color: #2f6fed; font-weight: bold; }
  .girl { color: #e83e8c; font-weight: bold; }
  .unknown { color: #aaa; font-weight: bold; }
  
      /* === –ö–Ω–æ–ø–∫–∞ –≤ –Ω–µ–æ–Ω-—Å—Ç–∏–ª–µ === */
.neon-link,
.neon-theme-btn {
  display: inline-block;
  font-family: monospace;
  font-size: 16px;
  padding: 8px 12px;
  max-width: 180px;
  color: #00ffff;
  background: black;
  border: 2px solid #00ffff;
  border-radius: 8px;
  text-decoration: none;
  box-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff inset;
  transition: all 0.3s ease;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  box-sizing: border-box;
  text-align: center;
}
  .video-help {
  max-width: 400px;
  margin: 20px auto;
  color: #0ff;
  font-family: monospace;
  text-align: center;
}



/* –ê–Ω–∏–º–∞—Ü–∏—è —Å–≤–µ—á–µ–Ω–∏—è */
@keyframes neonPulse {
  0% {
    box-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff inset;
    color: #00ffff;
  }
  50% {
    box-shadow: 0 0 20px #00ffff, 0 0 40px #00ffff inset;
    color: #0ff;
  }
  100% {
    box-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff inset;
    color: #00ffff;
  }
}

/* –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫ –∫–Ω–æ–ø–∫–µ */
button {
  padding: 16px 32px;
  background: #000;
  color: #00ffff;
  border: 2px solid #00ffff;
  border-radius: 8px;
  font-weight: bold;
  cursor: pointer;
  margin-top: 15px;
  animation: neonPulse 2s infinite alternate;
  transition: transform 0.3s ease;
}

button:hover {
  transform: scale(1.05);
}

.moment {
  color: #0f0;       /* —è—Ä–∫–æ-–∑–µ–ª—ë–Ω—ã–π */
  font-weight: bold; /* –≤—ã–¥–µ–ª–µ–Ω–∏–µ */
}



  table {
    border-collapse: collapse;
    margin-top: 10px;
    width: 100%;
  }
  th, td {
    border: 1px solid #999;
    padding: 6px 10px;
    text-align: center;
  }
  th {
    background: #444;
    color: #fff;
  }
  td.father {
    background: #cce5ff; /* –≥–æ–ª—É–±–æ–π */
    color: #003366;
    font-weight: bold;
  }
  td.mother {
    background: #ffe5ec; /* —Ä–æ–∑–æ–≤—ã–π */
    color: #660033;
    font-weight: bold;
  }
  td.none {
    background: #f0f0f0; /* —Å–µ—Ä—ã–π */
    color: #666;
  }


  .result-box {
    display: inline-block;
    padding: 10px 20px;
    margin: 10px 0;
    border: 3px solid #ff66b2; /* —Ä–æ–∑–æ–≤–∞—è —Ä–∞–º–∫–∞ */
    border-radius: 10px;
    background: #fff0f6;       /* –Ω–µ–∂–Ω—ã–π —Ñ–æ–Ω */
    font-size: 1.2em;
    font-weight: bold;
    color: #660033;
  }
  .boy { border-color:#3399ff; background:#e6f3ff; color:#003366; }
  .girl { border-color:#ff66b2; background:#fff0f6; color:#660033; }
  .unknown { border-color:#999; background:#f9f9f9; color:#333; }

@keyframes pulseBorder {
  0% { box-shadow: 0 0 5px #ff66b2; }
  50% { box-shadow: 0 0 15px #ff66b2; }
  100% { box-shadow: 0 0 5px #ff66b2; }
}
.result-box {
  animation: pulseBorder 2s infinite;
}




@media (max-width: 600px) {
  table, thead, tbody, th, td, tr {
    display: block;
  }

  table tr {
    margin-bottom: 10px;
    border: 1px solid #ddd;
    padding: 8px;
  }

  table td {
    text-align: left;
    padding-left: 50%;
    position: relative;
  }

  table td::before {
    position: absolute;
    left: 10px;
    top: 6px;
    white-space: nowrap;
    font-weight: bold;
  }

  table td:nth-child(1)::before { content: "–ì–æ–¥"; }
  table td:nth-child(2)::before { content: "–ü–æ–±–µ–¥–∞ —É –æ—Ç—Ü–∞"; }
  table td:nth-child(3)::before { content: "–ü–æ–±–µ–¥–∞ —É –º–∞—Ç–µ—Ä–∏"; }
  table td:nth-child(4)::before { content: "–ö—Ç–æ –≤–ø–µ—Ä–µ–¥–∏"; }
}


</style>
</head>
<body>


 <div class="neon-hub">
     <a href="index.html" class="neon-link">üè† –ì–ª–∞–≤–Ω–∞—è</a>
  <a href="blood.html" class="neon-link">üèÜüß¢ –ú. –∏–ª–∏ üéÄ üèÜ–¥.</a>
  <a href="lovemeet.html" class="neon-link">üíñ LoveMeet (–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞)</a>
  <a href="discounts.html" class="neon-link">üí∞ –°–∫–∏–¥–∫–∏</a>
  <a href="ascii-mode.html" class="neon-link">üìü –ì–∞–¥–∞–Ω–∏–µ –Ω–∞ –∏–≥—Ä–æ–≤—ã—Ö –∫–∞—Ä—Ç–∞—Ö</a>
  <a href="Games.html" class="neon-link">üéÆ Games (–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞)</a>
  <a href="Exchange.html" class="neon-link">üåê Exchange (–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞)</a>
  <a href="amazon.html" class="neon-link">üõçÔ∏è Amazon –í–∏—Ç—Ä–∏–Ω–∞</a>
  <a href="AliExpress.html" class="neon-link">üßß AliExpress –í–∏—Ç—Ä–∏–Ω–∞</a>
  <a href="temu.html" class="neon-link">üõí Temu –í–∏—Ç—Ä–∏–Ω–∞</a>
  <a href="tvindex.html" class="neon-link">üì∫ –¢–µ–ª–µ–∫–∞–Ω–∞–ª—ã</a>
  </div>
 



<a href="https://youtu.be/akEoW-3QIA0" target="_blank">
  <button style="padding:10px 20px; font-size:16px;">‚ñ∂ –°–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ YouTube –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–æ–º</button>
</a>

<p style="color:#ff0; font-size:1.05rem;">
‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ: –º–µ—Ç–æ–¥ –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ —Ü–∏–∫–ª–∞—Ö –¥–∞—Ç –∏ –¥–∞—ë—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å –≤—ã—Å–æ–∫–æ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é, 
–Ω–æ –≤–æ–∑–º–æ–∂–Ω—ã —Ä–µ–¥–∫–∏–µ –æ—à–∏–±–∫–∏ (–ø—Ä–∏–º–µ—Ä–Ω–æ 3 —Å–ª—É—á–∞—è –∏–∑ 30‚Äì50). 
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞–∫ —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∏–π –∫–ª—é—á —Å—É–¥—å–±—ã, –∞ –Ω–µ –∫–∞–∫ –º–µ–¥–∏—Ü–∏–Ω—Å–∫—É—é –≥–∞—Ä–∞–Ω—Ç–∏—é.
</p>

<p style="color:#e7fff4; font-size:1.10rem;">
    ‚ö†Ô∏è –í—ã –º–æ–∂–µ—Ç–µ –Ω–µ –∏–¥—Ç–∏ –Ω–∞ —ç—Ö–æ –∏ –∑–∞–ø–ª–∞—Ç–∏—Ç—å –º–Ω–æ–≥–æ, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –ø–æ–ª –≤–∞—à–µ–≥–æ –±—É–¥—É—â–µ–≥–æ –º–∞–ª—ã—à–∞.<br/>
    –ü–æ–∂–µ—Ä—Ç–≤—É–π—Ç–µ 1000 –¥—Ä–∞–º —Ç—É—Ç –∏ —É–∑–Ω–∞–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é 90,9%.<br/>
    ‚ö†Ô∏è –î–∞–∂–µ —ç—Ö–æ –∏–Ω–æ–≥–¥–∞ –æ—à–∏–±–∞–µ—Ç—Å—è ‚Äî –Ω–∞—à –º–µ—Ç–æ–¥ —Ç–æ–∂–µ —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∏–π, –Ω–æ –¥–∞—ë—Ç –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –ø—Ä–æ–≥–Ω–æ–∑.
</p>

<p style="font-size:1.1rem;">
    üîë –•–æ—Ç–∏—Ç–µ –ø–∞—Ä–æ–ª—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ? –í–æ—Ç –∑–∞–¥–∞–Ω–∏–µ! <br/><br/>
    ‚ö†Ô∏è –°–¥–µ–ª–∞–π—Ç–µ –ø–æ–∫—É–ø–∫–∏ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã: <br/><br/>
    <a href="amazon.html" class="btn">üõçÔ∏è Amazon –í–∏—Ç—Ä–∏–Ω–∞</a>
    <a href="temu.html" class="btn">üõí Temu –í–∏—Ç—Ä–∏–Ω–∞</a>
    <a href="AliExpress.html" class="btn">üßß AliExpress –í–∏—Ç—Ä–∏–Ω–∞</a> <br/><br/>
    üëâ –ò–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ –æ–¥–Ω—É –∏–∑ —Å—Å—ã–ª–æ–∫ –Ω–∞ <a href="index.html" class="btn">üè† –ì–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ.</a> <br/><br/>
    –ü–æ—Å–ª–µ –ø—Ä–∏—à–ª–∏—Ç–µ –ø–æ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º —Å–∫—Ä–∏–Ω—à–æ—Ç –ø–æ–∫—É–ø–∫–∏ –∏–ª–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏. 
    –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –ø—Ä–æ–≤–µ—Ä–∏—Ç –∏ –ø—Ä–∏—à–ª–µ—Ç –ø–∞—Ä–æ–ª—å.
</p>

<style>
.btn {
  display: inline-block;
  margin: 5px;
  padding: 8px 12px;
  background-color: #0f0;
  border-radius: 6px;
  text-decoration: none;
  font-weight: bold;
}
.btn:hover {
  background-color: #00ffff;
}
</style>

<!-- –ë–ª–æ–∫ –≤—Ö–æ–¥–∞ -->

<div id="login">
  <h2 style="font-size:2.20rem;">–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å</h2>
  <p style="color:#FF0000; font-size:1.25rem; font-weight:bold;">
    ‚ö†Ô∏è –í–∞–∂–Ω–æ! –ü–∞—Ä–æ–ª—å –¥–µ–π—Å—Ç–≤—É–µ—Ç 15 –¥–Ω–µ–π.
  </p>
  <p id="expireInfo" style="color:#0ff; font-size:1.1rem;"></p>
  <input type="password" id="pwd" placeholder="–ü–∞—Ä–æ–ª—å ">
  <p style="font-size:1.5rem;">
    üì° –ß—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –ø–∞—Ä–æ–ª—å —Å–≤—è–∂–∏—Ç–µ—Å—å –ø–æ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º üì°
  </p>
  <button onclick="checkPwd()">–í–æ–π—Ç–∏</button>
  <button onclick="location.href='index.html#contact-footer'">–ù–∞–∑–∞–¥ –∫ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º</button>
  <p id="msg"></p>
</div>





<!-- –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä -->
<div id="protected">
  <h1>üèÜüß¢ –ö–ª—é—á —Å—É–¥—å–±—ã üéÄüèÜ</h1>
  <p class="note">
  –£ –∫–æ–≥–æ –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª–µ–π –¥–∞—Ç–∞ –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤–ø–µ—Ä–µ–¥–∏ ‚Äî —Ä–æ–¥–∏—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –ø–æ–ª.<br/>
  üìÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–∞ –¥–æ 2040 –≥–æ–¥–∞.
</p>


  <div class="group">
    <strong>–û—Ç–µ—Ü</strong>
    <label>–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è
      <input type="date" id="fatherDate" />
    </label>
    <strong>–ú–∞—Ç—å</strong>
    <label>–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è
      <input type="date" id="motherDate" />
    </label>
  </div>

  <div class="group" id="extraForm" style="display:none;">
    <strong>–°–æ–≤–ø–∞–¥–µ–Ω–∏–µ –¥–∞—Ç ‚Äî —É—Ç–æ—á–Ω–∏—Ç–µ –≤—Ä–µ–º—è —Ä–æ–∂–¥–µ–Ω–∏—è</strong>
    <label>–í—Ä–µ–º—è —Ä–æ–∂–¥–µ–Ω–∏—è –æ—Ç—Ü–∞
      <input type="time" id="fatherTime" value="00:00" />
    </label>
    <label>–í—Ä–µ–º—è —Ä–æ–∂–¥–µ–Ω–∏—è –º–∞—Ç–µ—Ä–∏
      <input type="time" id="motherTime" value="00:00" />
    </label>
  </div>

  <button id="calcBtn">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
  <div id="summary" class="note">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–∞—Ç—ã –∏ –Ω–∞–∂–º–∏—Ç–µ ¬´–†–∞—Å—Å—á–∏—Ç–∞—Ç—å¬ª.</div>
</div>

<script>
const encodedPwd = "bWVraWMyMTEwNzQ"; 
const validDays = 15;
let countdownInterval;

function updateExpireInfo(){
  let startDate = localStorage.getItem("startDate");
  const expireInfo = document.getElementById('expireInfo');

  if(startDate){
    startDate = new Date(startDate);
    const expireDate = new Date(startDate);
    expireDate.setDate(expireDate.getDate() + validDays);

    function updateCountdown(){
      const now = new Date();
      const diff = expireDate - now;

      if(diff <= 0){
        expireInfo.textContent = "‚õî –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –ø–∞—Ä–æ–ª—è –∏—Å—Ç—ë–∫!";
        expireInfo.style.color = "red";
        clearInterval(countdownInterval);
        return;
      }

      const days = Math.floor(diff / (1000*60*60*24));
      const hours = Math.floor((diff % (1000*60*60*24)) / (1000*60*60));
      const minutes = Math.floor((diff % (1000*60*60)) / (1000*60));

      expireInfo.textContent = 
        "–ü–∞—Ä–æ–ª—å –∞–∫—Ç–∏–≤–µ–Ω –¥–æ " + expireDate.toLocaleDateString() +
        " ‚è≥ –û—Å—Ç–∞–ª–æ—Å—å: " + days + " –¥–Ω. " + hours + " —á. " + minutes + " –º–∏–Ω.";

      // –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –∫—Ä–∞—Å–Ω—ã–º –µ—Å–ª–∏ –æ—Å—Ç–∞–ª–æ—Å—å <3 –¥–Ω–µ–π
      if(days < 3){
        expireInfo.style.color = "red";
        expireInfo.style.fontWeight = "bold";
      } else {
        expireInfo.style.color = "#0ff";
        expireInfo.style.fontWeight = "normal";
      }
    }

    updateCountdown();
    countdownInterval = setInterval(updateCountdown, 60000); // –æ–±–Ω–æ–≤–ª—è–µ–º –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
  } else {
    expireInfo.textContent = 
      "–ü–∞—Ä–æ–ª—å –µ—â—ë –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω (–Ω–∞—á–Ω—ë—Ç –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ)";
    expireInfo.style.color = "#0ff";
  }
}

function checkPwd(){
  const passField = document.getElementById('pwd');
  const pass = passField.value.trim();
  const decoded = atob(encodedPwd);

  if(pass !== decoded){
    document.getElementById('msg').textContent = "–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å!";
    document.getElementById('msg').style.color = "red"; 
    document.getElementById('msg').style.fontSize = "1.5rem";
    passField.classList.add("error");
    setTimeout(()=>passField.classList.remove("error"),300);
    return;
  }

  let startDate = localStorage.getItem("startDate");
  if(!startDate){
    startDate = new Date();
    localStorage.setItem("startDate", startDate);
  }

  document.getElementById('login').style.display="none";
  document.getElementById('protected').style.display="block";
  updateExpireInfo();
}

window.onload = updateExpireInfo;
</script>






<script>
// –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
function safeDate(y,m,d){
  const dt=new Date(y,m,d);
  return (m===1&&d===29&&dt.getMonth()!==1)?new Date(y,1,28):dt;
}

function lastRefreshBefore(b,r,c){
  let y=b.getFullYear(),last=safeDate(y,b.getMonth(),b.getDate());
  while(true){
    const ny=y+c, cd=safeDate(ny,b.getMonth(),b.getDate());
    if(cd<=r){last=cd;y=ny;} else break;
  }
  return last;
}

// –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –ø–æ–±–µ–¥ –¥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –≥–æ–¥–∞
function allRefreshes(base, until, cycle){
  let dates = [];
  let y = base.getFullYear();
  while(true){
    const ny = y + cycle;
    const cd = safeDate(ny, base.getMonth(), base.getDate());
    if(cd <= until){dates.push(cd); y = ny;} else break;
  }
  return dates;
}

// —Ç–∞–±–ª–∏—Ü–∞
function buildTable(fatherDates, motherDates, isTie=false){
  if(isTie){
    return `<table>
      <tr><th>–ì–æ–¥</th><th>–ü–æ–±–µ–¥–∞ —É –æ—Ç—Ü–∞</th><th>–ü–æ–±–µ–¥–∞ —É –º–∞—Ç–µ—Ä–∏</th><th>–ö—Ç–æ –≤–ø–µ—Ä–µ–¥–∏</th></tr>
      <tr><td colspan="4" class="none">‚ùì –°–æ–≤–ø–∞–¥–µ–Ω–∏–µ ‚Äî —É—Ç–æ—á–Ω–∏—Ç–µ —á–∞—Å–∞–º–∏</td></tr>
    </table>`;
  }

  const years = new Set([
    ...fatherDates.map(d=>d.getFullYear()),
    ...motherDates.map(d=>d.getFullYear())
  ]);
  const sortedYears = [...years].sort((a,b)=>a-b);

  let html = "<table><tr><th>–ì–æ–¥</th><th>–ü–æ–±–µ–¥–∞ —É –æ—Ç—Ü–∞</th><th>–ü–æ–±–µ–¥–∞ —É –º–∞—Ç–µ—Ä–∏</th><th>–ö—Ç–æ –≤–ø–µ—Ä–µ–¥–∏</th></tr>";
  sortedYears.forEach(y=>{
    const f = fatherDates.find(d=>d.getFullYear()===y);
    const m = motherDates.find(d=>d.getFullYear()===y);

    let winner = "‚Äì";
    let winnerClass = "none";

    if(f && !m){
      winner = "üèÜüß¢ –û—Ç–µ—Ü";
      winnerClass = "father";
    } else if(m && !f){
      winner = "üèÜüéÄ –ú–∞—Ç—å";
      winnerClass = "mother";
    } else if(f && m){
      if(f > m){
        winner = "üèÜüß¢ –û—Ç–µ—Ü";
        winnerClass = "father";
      } else if(m > f){
        winner = "üèÜüéÄ –ú–∞—Ç—å";
        winnerClass = "mother";
      } else {
        winner = "‚ùì –°–æ–≤–ø–∞–¥–µ–Ω–∏–µ ‚Äî —É—Ç–æ—á–Ω–∏—Ç–µ —á–∞—Å–∞–º–∏";
        winnerClass = "none";
      }
    }

    html += `<tr>
      <td>${y}</td>
      <td class="${f?'father':'none'}">${f?f.toLocaleDateString()+" üèÜüß¢":"‚Äì"}</td>
      <td class="${m?'mother':'none'}">${m?m.toLocaleDateString()+" üèÜüéÄ":"‚Äì"}</td>
      <td class="${winnerClass}">${winner}</td>
    </tr>`;
  });
  html += "</table>";
  return html;
}

document.getElementById('calcBtn').addEventListener('click',()=>{
  const fdStr=document.getElementById('fatherDate').value,
        mdStr=document.getElementById('motherDate').value;
  if(!fdStr||!mdStr){
    document.getElementById('summary').textContent='–£–∫–∞–∂–∏—Ç–µ –¥–∞—Ç—ã —Ä–æ–∂–¥–µ–Ω–∏—è –æ–±–æ–∏—Ö —Ä–æ–¥–∏—Ç–µ–ª–µ–π.';
    return;
  }

  const fd=new Date(fdStr), md=new Date(mdStr), today=new Date();

  const fatherLast=lastRefreshBefore(fd,today,4),
        motherLast=lastRefreshBefore(md,today,3);

  const fatherAll=allRefreshes(fd,new Date(2040,0,1),4);
  const motherAll=allRefreshes(md,new Date(2040,0,1),3);

  let result="‚ùì –°–æ–≤–ø–∞–¥–µ–Ω–∏–µ ‚Äî —É—Ç–æ—á–Ω–∏—Ç–µ —á–∞—Å–∞–º–∏";
  let isTie=false;
  let showFullTable=true;

  if(fd.getTime() === md.getTime() || fatherLast.getTime() === motherLast.getTime()){
    isTie=true;
    showFullTable=false;
    document.getElementById('extraForm').style.display="block";

    const fatherTime = document.getElementById('fatherTime').value;
    const motherTime = document.getElementById('motherTime').value;

    if(fatherTime && motherTime){
      const [fh,fm]=fatherTime.split(':').map(Number);
      const [mh,mm]=motherTime.split(':').map(Number);
      const fMin=fh*60+fm, mMin=mh*60+mm;

      if(fMin>mMin) result="üèÜüß¢–ú–∞–ª—å—á–∏–∫üß¢üèÜ";
      else if(mMin>fMin) result="üèÜüéÄ–î–µ–≤–æ—á–∫–∞üéÄüèÜ";
      else result="‚ùì –°–æ–≤–ø–∞–¥–µ–Ω–∏–µ ‚Äî —É—Ç–æ—á–Ω–∏—Ç–µ —á–∞—Å–∞–º–∏";

      showFullTable=true; // –µ—Å–ª–∏ –≤—Ä–µ–º—è –≤–≤–µ–¥–µ–Ω–æ ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–ª–Ω—É—é —Ç–∞–±–ª–∏—Ü—É
    }
  } else {
    if(fatherLast > motherLast) result="üèÜüß¢–ú–∞–ª—å—á–∏–∫üß¢üèÜ";
    else result="üèÜüéÄ–î–µ–≤–æ—á–∫–∞üéÄüèÜ";
  }

  // –≤—ã–≤–æ–¥
  document.getElementById('summary').innerHTML=`
    –†–µ–∑—É–ª—å—Ç–∞—Ç: <div class="result-box ${result.includes("–ú–∞–ª—å—á–∏–∫")?"boy":result.includes("–î–µ–≤–æ—á–∫–∞")?"girl":"unknown"}">${result}</div><br/>
    ${showFullTable ? buildTable(fatherAll,motherAll) : buildTable(fatherAll,motherAll,true)}<br/>
    <span class="moment">–ú–æ–º–µ–Ω—Ç —Ä–∞—Å—á—ë—Ç–∞ (–°–µ–≥–æ–¥–Ω—è - —Å–µ–π—á–∞—Å): ${today.toLocaleDateString()}</span><br/>
    <em>–í –º–æ–º–µ–Ω—Ç –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç–∏ –ø–æ–±–µ–¥–∏–≤—à–∏–π —Ü–∏–∫–ª –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–ª —Ä–µ–±—ë–Ω–∫–∞: –µ—Å–ª–∏ –≤–ø–µ—Ä–µ–¥–∏ —É –æ—Ç—Ü–∞ ‚Äî üèÜüß¢–º–∞–ª—å—á–∏–∫üß¢üèÜ, –µ—Å–ª–∏ —É –º–∞—Ç–µ—Ä–∏ ‚Äî üèÜüéÄ–¥–µ–≤–æ—á–∫–∞üéÄüèÜ.</em>
  `;
});
</script>











</body>
</html>
